{%- comment -%}
    Only 1 Mobile Menu should be rendered in the theme, particularly as a block inside the 'header' section.

        settings: Object containing all settings for this snippet.

    Usage: {%- render 'mobile-menu' , settings: settingsobj -%}
{%- endcomment -%}


<!-- mobile-menu.liquid.start -->
<noscript>
    <style>
        #mobileMenu:target {
	      --tw-translate-x: 0px;
        }

        #mobileMenu {
          display: block !important;
          --tw-translate-x: -100%;
          transition-property: all;
          transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
          transition-duration: 150ms;
          transition-duration: 500ms;
          transition-timing-function: cubic-bezier(0, 0, 0.2, 1);
        }
    </style>
</noscript>

<div class="fixed top-0 right-0 w-1/6 h-screen bg-black bg-opacity-40 backdrop-filter backdrop-blur-sm z-[15] md:hidden transform"
     x-show="menuOpen"
     x-transition:enter="transition-all duration-500 ease-out"
     x-transition:enter-start="!w-full !bg-opacity-0 !backdrop-blur-0"
     x-transition:leave="transition-all duration-300 ease-in"
     x-transition:leave-end="!w-full !bg-opacity-0 !backdrop-blur-0"
     x-cloak></div>

<div id="mobileMenu" class="fixed top-0 bottom-0 left-0 z-20 w-5/6 h-screen pt-20 px-4 border-r shadow-2xl bg-gray-50 transform overflow-y-auto md:hidden
            {%- if settings.glass %} bg-opacity-60 backdrop-filter backdrop-blur border-white border-opacity-20
            {%- endif -%}"
     x-show="menuOpen"
     x-transition:enter="transition-all duration-500 ease-out"
     x-transition:enter-start="!-translate-x-full"
     x-transition:leave="transition-all duration-300 ease-in"
     x-transition:leave-end="!-translate-x-full"
     @click.away="menuOpen = false"
     x-cloak>

    <a href="#">
     <button class="absolute top-0 right-0 p-8" @click.prevent="menuOpen = false">
        <svg class="block w-4 h-4 mx-auto icon"><use xlink:href="#icon-close"></use></svg>
    </button>
    </a>

    {%- if settings.search %}
    <form action="{{ routes.search_url }}" method="get" role="search">
        <div class="flex w-full mb-4 rounded-r-sm ring-1 ring-gray-200 focus-within:ring-2 focus-within:ring-green-500">
            <input name="q"
                role="combobox"
                aria-autocomplete="list"
                aria-owns="predictive-search-results"
                aria-expanded="false"
                aria-label="{{ 'general.search.placeholder' | t }}"
                aria-haspopup="listbox"
                data-predictive-search-drawer-input
                data-base-url="{{ routes.search_url }}"
                type="search"
                class="flex-auto w-3/4 border-0 focus:ring-0 focus:border-0" 
                placeholder="{{ settings.placeholder }}"></input>
            <button type="submit" 
                data-search-form-submit 
                class="flex-auto w-1/4 min-h-full text-white bg-green-500 rounded-sm">
                    Search
            </button>
        </div>
    </form>
    {% endif -%}


    <nav class="flex flex-col items-stretch w-full">
        <ul class="divide-y divide-opacity-75">
            {%- for link in linklists[settings.primNav].links %}
            <li >
                <a href="{{ link.url }}" {%- if link.current %} aria-current="page"{%- endif -%}>
                    <button class="w-full py-2 pl-8 pr-4 tracking-widest text-xl text-left {%- if link.active %} font-semibold{%- endif -%}">
                        {{ link.title | escape }}
                    </button>
                </a>
            </li>
            {%- endfor %}
        </ul>
    </nav>

    <nav class="flex flex-col items-stretch w-full mt-16">
        <ul>
            {%- if settings.secNav %}
            {%- for link in linklists[settings.secNav].links %}
            <li>
                <a href="{{ link.url }}" {%- if link.current %} aria-current="page"{%- endif -%}>
                    <button class="w-full py-1 pl-8 pr-4 tracking-wide text-base text-left {%- if link.active %} font-semibold{%- endif -%}">
                        {{ link.title | escape }}
                    </button>
                </a>
            </li>
            {%- endfor %}
            {%- endif -%}
            {%- if settings.phone != '' %}
            <li>
                <a href="tel:{{ settings.phone | escape }}">
                    <button class="w-full py-1 pl-8 pr-4 tracking-wide text-base text-left {%- if link.active %} font-semibold{%- endif -%}">
                        <svg class="absolute mr-2 transform -translate-x-full icon icon-phone"><use xlink:href="#icon-phone"></use></svg> 
                        <span class="pl-2">{{ settings.phone | escape }}</span>
                    </button>
                </a>
            </li>
            {% endif -%}
            {%- if settings.email != '' %}
            <li>
                <a href="mailto:{{ settings.email | escape }}">
                    <button class="w-full py-1 pl-8 pr-4 tracking-wide text-base text-left {%- if link.active %} font-semibold{%- endif -%}">
                        <svg class="absolute mr-2 transform -translate-x-full icon icon-email"><use xlink:href="#icon-email"></use></svg> 
                        <span class="pl-2">{{ settings.email | escape }}</span>
                    </button>
                </a>
            </li>
            {% endif -%}
        </ul>
    </nav>
    
 


</div>

<!-- mobile-menu.liquid.end -->